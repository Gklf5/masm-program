;ENTER A STRING, ENETR A KEY(CHARACTER TO SEARCH IN STRING) -> PRINT ALL POSITON OF KEY IN STRING.

.MODEL SMALL

PRINTS MACRO P
LEA DX,P
MOV AH,09H
INT 21H
ENDM

.DATA
BUFFER DB 20,?
STRING1 DB "ENTER A STRING:$"
STRING2 DB 10,13,"ENTER A KEY:$"
STRING3 DB 10,13,"KEY FOUND AT POSITION $"
STRING4 DB 10,13,"KEY NOT FOUND$"
NUMBER DW 0

.CODE
MOV AX,@DATA
MOV DS,AX

PRINTS STRING1
LEA DX,BUFFER
MOV AH,0AH
INT 21H

PRINTS STRING2
MOV AH,01H
INT 21H
MOV BL,AL
MOV CL,1
MOV CH,0

LEA SI,BUFFER+2

SCAN:
MOV AL,[SI]
CMP AL,13
JE OUT1
CMP AL,BL
JNE NEXT
PRINTS STRING3
INC CH
MOV DL,CL
ADD DL,'0'
MOV AH,02H
INT 21H
NEXT:
INC SI
INC CL
JMP SCAN

OUT1:
CMP CH,0
JNE EXIT
PRINTS STRING4

EXIT:
MOV AH,4CH
INT 21H
END